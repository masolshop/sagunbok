{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Company Extracted Fields Schema",
  "description": "PDF 재무제표에서 자동 추출된 8개 항목 JSON 스키마",
  "type": "object",
  "properties": {
    "company_name": {
      "type": ["object", "null"],
      "description": "회사명",
      "properties": {
        "value": { "type": "string", "description": "추출된 회사명 (예: 쏠라리버(주))" },
        "confidence": { "type": "number", "minimum": 0, "maximum": 1, "description": "신뢰도 점수 (0.0 ~ 1.0)" },
        "page_number": { "type": "integer", "minimum": 1, "description": "추출된 페이지 번호" },
        "snippet": { "type": "string", "maxLength": 100, "description": "원문 스니펫 (최대 100자)" },
        "method": { "type": "string", "enum": ["regex", "keyword", "table", "vision_api", "default"], "description": "추출 방법" }
      },
      "required": ["value", "confidence", "page_number", "snippet", "method"]
    },
    "ceo_name": {
      "type": ["object", "null"],
      "description": "대표자명",
      "properties": {
        "value": { "type": "string", "description": "추출된 대표자명 (예: 홍길동)" },
        "confidence": { "type": "number", "minimum": 0, "maximum": 1 },
        "page_number": { "type": "integer", "minimum": 1 },
        "snippet": { "type": "string", "maxLength": 100 },
        "method": { "type": "string", "enum": ["regex", "keyword", "table", "vision_api", "default"] }
      },
      "required": ["value", "confidence", "page_number", "snippet", "method"]
    },
    "business_number": {
      "type": ["object", "null"],
      "description": "사업자등록번호",
      "properties": {
        "value": { "type": "string", "pattern": "^\\d{3}-\\d{2}-\\d{5}$", "description": "사업자등록번호 (123-45-67890 형식)" },
        "confidence": { "type": "number", "minimum": 0, "maximum": 1 },
        "page_number": { "type": "integer", "minimum": 1 },
        "snippet": { "type": "string", "maxLength": 100 },
        "method": { "type": "string", "enum": ["regex", "keyword", "table", "vision_api", "default"] }
      },
      "required": ["value", "confidence", "page_number", "snippet", "method"]
    },
    "industry": {
      "type": ["object", "null"],
      "description": "업종",
      "properties": {
        "value": { "type": "string", "description": "업종명 (예: 제조업, 도소매업 등)" },
        "confidence": { "type": "number", "minimum": 0, "maximum": 1 },
        "page_number": { "type": "integer", "minimum": 1 },
        "snippet": { "type": "string", "maxLength": 100 },
        "method": { "type": "string", "enum": ["regex", "keyword", "table", "vision_api", "default"] }
      },
      "required": ["value", "confidence", "page_number", "snippet", "method"]
    },
    "statement_year": {
      "type": ["object", "null"],
      "description": "재무제표 연도",
      "properties": {
        "value": { "type": "string", "pattern": "^\\d{4}$", "description": "연도 (YYYY 형식)" },
        "confidence": { "type": "number", "minimum": 0, "maximum": 1 },
        "page_number": { "type": "integer", "minimum": 1 },
        "snippet": { "type": "string", "maxLength": 100 },
        "method": { "type": "string", "enum": ["regex", "keyword", "table", "vision_api", "default"] }
      },
      "required": ["value", "confidence", "page_number", "snippet", "method"]
    },
    "revenue": {
      "type": ["object", "null"],
      "description": "매출액",
      "properties": {
        "value": { "type": "string", "description": "매출액 (예: 1,234,567,890원)" },
        "confidence": { "type": "number", "minimum": 0, "maximum": 1 },
        "page_number": { "type": "integer", "minimum": 1 },
        "snippet": { "type": "string", "maxLength": 100 },
        "method": { "type": "string", "enum": ["regex", "keyword", "table", "vision_api", "default"] },
        "unit": { "type": "string", "description": "단위 (원, 천원, 백만원, 억원 등)", "default": "원" }
      },
      "required": ["value", "confidence", "page_number", "snippet", "method"]
    },
    "retained_earnings": {
      "type": ["object", "null"],
      "description": "이익잉여금 / 결손금",
      "properties": {
        "value": { "type": "string", "description": "잉여금 (양수: 이익잉여금, 음수: 결손금)" },
        "confidence": { "type": "number", "minimum": 0, "maximum": 1 },
        "page_number": { "type": "integer", "minimum": 1 },
        "snippet": { "type": "string", "maxLength": 100 },
        "method": { "type": "string", "enum": ["regex", "keyword", "table", "vision_api", "default"] },
        "unit": { "type": "string", "description": "단위", "default": "원" }
      },
      "required": ["value", "confidence", "page_number", "snippet", "method"]
    },
    "loans_to_officers": {
      "type": ["object", "null"],
      "description": "가지급금 (대여금)",
      "properties": {
        "value": { "type": "string", "description": "가지급금 (미확인 시 '미확인')" },
        "confidence": { "type": "number", "minimum": 0, "maximum": 1 },
        "page_number": { "type": "integer", "minimum": 0 },
        "snippet": { "type": "string", "maxLength": 100 },
        "method": { "type": "string", "enum": ["regex", "keyword", "table", "vision_api", "default"] },
        "unit": { "type": "string", "description": "단위", "default": "원" }
      },
      "required": ["value", "confidence", "page_number", "snippet", "method"]
    }
  },
  "required": []
}
