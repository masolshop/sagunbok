# 사근복 AI 접근 권한 시스템 가이드

## 📋 개요

사근복 AI가 이제 **비회원도 접근 가능**하며, **메뉴별 접근 권한**이 설정되어 있습니다!

---

## 🌐 **접속 방법**

### 기본 URL
```
http://3.34.186.174/
```

→ **기업절세계산기**로 바로 진입 (로그인 불필요!)

---

## 🎯 **메뉴별 접근 권한**

| 메뉴 | 아이콘 | 접근 권한 | 설명 |
|------|--------|-----------|------|
| 기업절세계산기 | 📊 | 🌍 **공개** | 누구나 접근 가능 |
| CEO절세계산기 | 👑 | 🔒 회원 전용 | 로그인 필요 |
| 직원절세계산기 | 👤 | 🔒 회원 전용 | 로그인 필요 |
| 네트급여계산기 | 🧮 | 🔒 회원 전용 | 로그인 필요 |
| 기업리스크진단 | 🩺 | 🔒 기업회원 전용 | 기업회원만 |
| ADMIN DASHBOARD | ⚙️ | 🔒 관리자 전용 | 슈퍼관리자만 |

---

## 👥 **사용자 타입별 접근 권한**

### 1. **비회원 (Guest)**
- ✅ **기업절세계산기**: 자유롭게 사용
- ❌ **다른 메뉴**: 로그인 필요 팝업 표시

### 2. **기업회원** 🏢
- ✅ 기업절세계산기
- ✅ CEO절세계산기
- ✅ 직원절세계산기
- ✅ 네트급여계산기
- ✅ 기업리스크진단 (기업회원 전용)

### 3. **매니저** 👤
- ✅ 기업절세계산기
- ✅ CEO절세계산기
- ✅ 직원절세계산기
- ✅ 네트급여계산기
- ❌ 기업리스크진단 (기업회원 전용)

### 4. **컨설턴트** 👔
- ✅ 기업절세계산기
- ✅ CEO절세계산기
- ✅ 직원절세계산기
- ✅ 네트급여계산기
- ❌ 기업리스크진단 (기업회원 전용)

### 5. **슈퍼관리자** 👑
- ✅ **모든 메뉴** 접근 가능
- ✅ ADMIN DASHBOARD 접근

---

## 💡 **사용 시나리오**

### 📌 **시나리오 1: 비회원이 사이트 방문**

1. **http://3.34.186.174/** 접속
2. → **기업절세계산기**가 바로 표시됨 (로그인 불필요)
3. 왼쪽 메뉴에서 **Guest Mode** 표시
4. **CEO절세계산기** 클릭 시:
   - ✅ 로그인 팝업 자동 표시
   - 로그인 후 자동으로 **CEO절세계산기**로 이동

### 📌 **시나리오 2: 매니저 로그인**

1. **Guest Mode** 클릭 → 로그인 팝업
2. **👤 매니저** 선택
3. 전화번호: `010-1111-9999`, 비밀번호: `12345`
4. 로그인 완료!
5. 사용 가능 메뉴:
   - ✅ 기업절세계산기
   - ✅ CEO절세계산기
   - ✅ 직원절세계산기
   - ✅ 네트급여계산기
6. **기업리스크진단** 클릭 시:
   - 🔒 "로그인 필요" 표시 (기업회원 전용)

### 📌 **시나리오 3: 기업회원 로그인**

1. 로그인 후 **모든 계산기** 사용 가능
2. **기업리스크진단**도 접근 가능

---

## 🔑 **로그인 팝업 동작**

### 팝업이 표시되는 경우:
- ❌ 권한 없는 메뉴 클릭 시
- ❌ 비로그인 상태에서 회원 전용 메뉴 클릭 시

### 팝업 기능:
- ✅ **로그인** / **회원가입** 탭
- ✅ **3개 회원 구분**: 기업회원 / 매니저 / 컨설턴트
- ✅ **닫기 버튼** (✕): 팝업 닫기
- ✅ 로그인 후 **자동으로 원하던 페이지로 이동**

---

## 🎨 **UI 특징**

### 1. **Guest Mode (비로그인)**
```
┌─────────────────────────┐
│ Guest Mode              │
│ 로그인 / 회원가입        │
│ 클릭하여 로그인          │
└─────────────────────────┘
```
- 파란색 테두리
- 호버 시 애니메이션

### 2. **로그인 상태**
```
┌─────────────────────────┐
│ Logged In               │
│ 최종테스트매니저         │
│ 👤 매니저               │
└─────────────────────────┘
```
- 녹색 점 깜빡임 (활성 상태)
- 사용자 타입 표시

### 3. **메뉴 잠금 표시**
```
┌─────────────────────────┐
│ CEO절세계산기           │
│ 🔒 로그인 필요          │
└─────────────────────────┘
```
- 잠금 아이콘 (🔒)
- "로그인 필요" 텍스트

---

## 🧪 **테스트 계정**

### 매니저 계정
- **전화번호**: `010-1111-9999`
- **비밀번호**: `12345`
- **타입**: 👤 매니저

### 컨설턴트 계정
- **전화번호**: `010-2222-9999`
- **비밀번호**: `12345`
- **타입**: 👔 컨설턴트

---

## 📊 **접근 권한 매트릭스**

| 메뉴 | 비회원 | 기업회원 | 매니저 | 컨설턴트 | 관리자 |
|------|--------|----------|--------|----------|--------|
| 기업절세계산기 | ✅ | ✅ | ✅ | ✅ | ✅ |
| CEO절세계산기 | ❌ | ✅ | ✅ | ✅ | ✅ |
| 직원절세계산기 | ❌ | ✅ | ✅ | ✅ | ✅ |
| 네트급여계산기 | ❌ | ✅ | ✅ | ✅ | ✅ |
| 기업리스크진단 | ❌ | ✅ | ❌ | ❌ | ✅ |
| ADMIN DASHBOARD | ❌ | ❌ | ❌ | ❌ | ✅ |

---

## 🚀 **배포 정보**

- **배포 날짜**: 2026-01-24
- **버전**: v2.5
- **URL**: http://3.34.186.174/
- **GitHub**: https://github.com/masolshop/sagunbok
- **커밋**: c109e64

---

## 💻 **기술 구현**

### 접근 권한 체크 로직
```typescript
const checkAccess = (menuItem: MenuItem): boolean => {
  // 공개 메뉴는 누구나 접근 가능
  if (menuItem.access.includes('public')) return true;
  
  // 로그인하지 않은 경우
  if (!isAuthenticated || !currentUser) return false;
  
  // 슈퍼관리자는 모든 메뉴 접근 가능
  if (currentUser.isSuperAdmin) return true;
  
  // 사용자 유형에 따른 접근 권한 확인
  const userType = currentUser.userType;
  return menuItem.access.includes(userType);
};
```

### 메뉴 클릭 처리
```typescript
const handleMenuClick = (menuItem: MenuItem) => {
  if (checkAccess(menuItem)) {
    setActiveTab(menuItem.id);
  } else {
    // 접근 권한이 없으면 로그인 모달 표시
    setPendingTab(menuItem.id);
    setShowAuthModal(true);
  }
};
```

---

## 📝 **사용 팁**

### ✅ **추천 워크플로우**

1. **비회원 체험**:
   - 링크 접속 → 기업절세계산기 바로 사용
   - 다른 메뉴 궁금하면 클릭 → 로그인 팝업

2. **회원 로그인**:
   - Guest Mode 클릭 → 로그인
   - 모든 권한 메뉴 사용

3. **특정 메뉴로 직접 이동**:
   - 권한 없는 메뉴 클릭 → 로그인
   - 로그인 후 자동으로 해당 메뉴로 이동

---

## 🎉 **완료!**

이제 **비회원도 기업절세계산기를 자유롭게 사용**할 수 있으며, 
**다른 메뉴는 로그인 후 사용**할 수 있습니다!

**http://3.34.186.174/** 에서 바로 체험해보세요! 🚀
